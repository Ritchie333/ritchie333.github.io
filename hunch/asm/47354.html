<!DOCTYPE html>
<html>
<head>
<title>Hunchback: Routine at B8FA</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html">Hunchback</a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="47350.html">B8F6</a>
</td>
<td class="up">Up: <a href="../maps/all.html#47354">Map</a></td>
<td class="next">
Next: <a href="47398.html">B926</a>
</td>
</tr>
</table>
<div class="description">B8FA: Convert a Y co-ordinate to a screen address</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="47000.html">B798</a>.
</div>
</div>
<table class="input">
<tr class="asm-input-header">
<th colspan="2">Input</th>
</tr>
<tr>
<td class="register">D</td>
<td class="register-desc">Y co-ordinate</td>
</tr>
<tr>
<td class="register">HL</td>
<td class="register-desc">On exit, holds screen address</td>
</tr>
</table>
</td>
</tr>
<tr>
<td class="address-2"><span id="47354"></span>B8FA</td>
<td class="instruction">LD E,$08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47356"></span>B8FC</td>
<td class="instruction">LD HL,$4000</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="47359"></span>B8FF</td>
<td class="instruction">LD A,D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47360"></span>B900</td>
<td class="instruction">CP $40</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47362"></span>B902</td>
<td class="instruction">JR C,$B90D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47364"></span>B904</td>
<td class="instruction">SUB $40</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47366"></span>B906</td>
<td class="instruction">LD D,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47367"></span>B907</td>
<td class="instruction">LD A,H</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47368"></span>B908</td>
<td class="instruction">ADD A,$08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47370"></span>B90A</td>
<td class="instruction">LD H,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47371"></span>B90B</td>
<td class="instruction">JR $B8FF</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="47373"></span>B90D</td>
<td class="instruction">LD A,D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47374"></span>B90E</td>
<td class="instruction">CP $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47376"></span>B910</td>
<td class="instruction">JR C,$B91B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47378"></span>B912</td>
<td class="instruction">SUB $08</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47380"></span>B914</td>
<td class="instruction">LD D,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47381"></span>B915</td>
<td class="instruction">LD A,L</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47382"></span>B916</td>
<td class="instruction">ADD A,$20</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47384"></span>B918</td>
<td class="instruction">LD L,A</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47385"></span>B919</td>
<td class="instruction">JR $B90D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="47387"></span>B91B</td>
<td class="instruction">LD A,D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47388"></span>B91C</td>
<td class="instruction">CP $00</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47390"></span>B91E</td>
<td class="instruction">JR Z,$B925</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47392"></span>B920</td>
<td class="instruction">INC H</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47393"></span>B921</td>
<td class="instruction">DEC D</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47394"></span>B922</td>
<td class="instruction">DEC E</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-1"><span id="47395"></span>B923</td>
<td class="instruction">JR $B91B</td>
<td class="comment-0" rowspan="1"></td>
</tr>
<tr>
<td class="address-2"><span id="47397"></span>B925</td>
<td class="instruction">RET</td>
<td class="comment-0" rowspan="1"></td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="47350.html">B8F6</a>
</td>
<td class="up">Up: <a href="../maps/all.html#47354">Map</a></td>
<td class="next">
Next: <a href="47398.html">B926</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright"></div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
</footer>
</body>
</html>