<!DOCTYPE html>
<html>
<head>
<title>Hunchback: Routine at 633B</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Asm-c">
<table class="header">
<tr>
<td class="logo"><a href="../index.html">Hunchback</a></td>
<td class="page-header">Routines</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="25341.html">62FD</a>
</td>
<td class="up">Up: <a href="../maps/all.html#25403">Map</a></td>
<td class="next">
Next: <a href="25484.html">638C</a>
</td>
</tr>
</table>
<div class="description">633B: Start a game</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
Used by the routine at <a href="24864.html">6120</a>.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-2"><span id="25403"></span>633B</td>
<td class="instruction">CALL <a href="24998.html">$61A6</a></td>
<td class="comment-1" rowspan="1">Set up the appropriate data for the current level.</td>
</tr>
<tr>
<td class="address-1"><span id="25406"></span>633E</td>
<td class="instruction">CALL <a href="25341.html">$62FD</a></td>
<td class="comment-1" rowspan="1">Draw the level.</td>
</tr>
<tr>
<td class="address-1"><span id="25409"></span>6341</td>
<td class="instruction">LD A,($607F)</td>
<td class="comment-1" rowspan="6">Get Quasimodo's position and sub-frame.</td>
</tr>
<tr>
<td class="address-1"><span id="25412"></span>6344</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="address-1"><span id="25413"></span>6345</td>
<td class="instruction">LD A,($6080)</td>
</tr>
<tr>
<td class="address-1"><span id="25416"></span>6348</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="address-1"><span id="25417"></span>6349</td>
<td class="instruction">LD A,($6081)</td>
</tr>
<tr>
<td class="address-1"><span id="25420"></span>634C</td>
<td class="instruction">LD C,A</td>
</tr>
<tr>
<td class="address-1"><span id="25421"></span>634D</td>
<td class="instruction">LD A,$04</td>
<td class="comment-1" rowspan="1">Use green on black.</td>
</tr>
<tr>
<td class="address-1"><span id="25423"></span>634F</td>
<td class="instruction">CALL <a href="47000.html">$B798</a></td>
<td class="comment-1" rowspan="1">Draw the sprite.</td>
</tr>
<tr>
<td class="address-1"><span id="25426"></span>6352</td>
<td class="instruction">LD A,($607F)</td>
<td class="comment-1" rowspan="10">Repeat for the second half as Quasimodo is a double-height sprite.</td>
</tr>
<tr>
<td class="address-1"><span id="25429"></span>6355</td>
<td class="instruction">ADD A,$10</td>
</tr>
<tr>
<td class="address-1"><span id="25431"></span>6357</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="address-1"><span id="25432"></span>6358</td>
<td class="instruction">LD A,($6080)</td>
</tr>
<tr>
<td class="address-1"><span id="25435"></span>635B</td>
<td class="instruction">LD E,A</td>
</tr>
<tr>
<td class="address-1"><span id="25436"></span>635C</td>
<td class="instruction">LD A,($6081)</td>
</tr>
<tr>
<td class="address-1"><span id="25439"></span>635F</td>
<td class="instruction">ADD A,$04</td>
</tr>
<tr>
<td class="address-1"><span id="25441"></span>6361</td>
<td class="instruction">LD C,A</td>
</tr>
<tr>
<td class="address-1"><span id="25442"></span>6362</td>
<td class="instruction">LD A,$04</td>
</tr>
<tr>
<td class="address-1"><span id="25444"></span>6364</td>
<td class="instruction">CALL <a href="47000.html">$B798</a></td>
</tr>
<tr>
<td class="address-1"><span id="25447"></span>6367</td>
<td class="instruction">LD A,($60BD)</td>
<td class="comment-1" rowspan="24">Draw the chasing knight climbing if necessary. <a href="24717.html">608D</a> - chasing knight Y co-ordinate. <a href="24766.html">60BE</a> - chasing knight graphic ID.</td>
</tr>
<tr>
<td class="address-1"><span id="25450"></span>636A</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="address-1"><span id="25451"></span>636B</td>
<td class="instruction">LD HL,$60BE</td>
</tr>
<tr>
<td class="address-1"><span id="25454"></span>636E</td>
<td class="instruction">LD B,$03</td>
</tr>
<tr>
<td class="address-2"><span id="25456"></span>6370</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="address-1"><span id="25457"></span>6371</td>
<td class="instruction">LD B,$02</td>
</tr>
<tr>
<td class="address-1"><span id="25459"></span>6373</td>
<td class="instruction">LD E,$01</td>
</tr>
<tr>
<td class="address-2"><span id="25461"></span>6375</td>
<td class="instruction">PUSH BC</td>
</tr>
<tr>
<td class="address-1"><span id="25462"></span>6376</td>
<td class="instruction">LD A,$3A</td>
</tr>
<tr>
<td class="address-1"><span id="25464"></span>6378</td>
<td class="instruction">LD C,(HL)</td>
</tr>
<tr>
<td class="address-1"><span id="25465"></span>6379</td>
<td class="instruction">PUSH DE</td>
</tr>
<tr>
<td class="address-1"><span id="25466"></span>637A</td>
<td class="instruction">PUSH HL</td>
</tr>
<tr>
<td class="address-1"><span id="25467"></span>637B</td>
<td class="instruction">CALL <a href="39568.html">$9A90</a></td>
</tr>
<tr>
<td class="address-1"><span id="25470"></span>637E</td>
<td class="instruction">POP HL</td>
</tr>
<tr>
<td class="address-1"><span id="25471"></span>637F</td>
<td class="instruction">POP DE</td>
</tr>
<tr>
<td class="address-1"><span id="25472"></span>6380</td>
<td class="instruction">INC (HL)</td>
</tr>
<tr>
<td class="address-1"><span id="25473"></span>6381</td>
<td class="instruction">INC E</td>
</tr>
<tr>
<td class="address-1"><span id="25474"></span>6382</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="address-1"><span id="25475"></span>6383</td>
<td class="instruction">DJNZ $6375</td>
</tr>
<tr>
<td class="address-1"><span id="25477"></span>6385</td>
<td class="instruction">LD A,D</td>
</tr>
<tr>
<td class="address-1"><span id="25478"></span>6386</td>
<td class="instruction">ADD A,$08</td>
</tr>
<tr>
<td class="address-1"><span id="25480"></span>6388</td>
<td class="instruction">LD D,A</td>
</tr>
<tr>
<td class="address-1"><span id="25481"></span>6389</td>
<td class="instruction">POP BC</td>
</tr>
<tr>
<td class="address-1"><span id="25482"></span>638A</td>
<td class="instruction">DJNZ $6370</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="25341.html">62FD</a>
</td>
<td class="up">Up: <a href="../maps/all.html#25403">Map</a></td>
<td class="next">
Next: <a href="25484.html">638C</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright"></div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
</footer>
</body>
</html>