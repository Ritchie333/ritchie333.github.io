<!DOCTYPE html>
<html>
<head>
<title>Everyone's A Wally: Data at 5DA8</title>
<meta charset="utf-8" />
<link rel="stylesheet" type="text/css" href="../skoolkit.css" />
<link rel="stylesheet" type="text/css" href="../skoolkit-dark.css" />
</head>
<body class="Loading system-Asm-b">
<table class="header">
<tr>
<td class="logo"><a href="../index.html"><img alt="loading" src="../images/loading.png" /></a></td>
<td class="page-header">Data</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="23424.html">5B80</a>
</td>
<td class="up">Up: <a href="Loading system.html#23976">Map</a></td>
<td class="next">
Next: <a href="65094.html">FE46</a>
</td>
</tr>
</table>
<div class="description">5DA8: Main entry point</div>
<table class="disassembly">
<tr>
<td class="routine-comment" colspan="5">
<div class="details">
<div class="paragraph">
The basic is :
</div>
</div>
</td>
</tr>
<tr>
<td class="routine-comment" colspan="5">
<span id="23976"></span>
<div class="comments">
<div class="paragraph">
1 REM 2 REM 100: PAPER 0: INK 0: BRIGHT 0: FLASH 0: CLS : PRINT #1;TAB 12; INK 7; BRIGHT 1;"LOADING:" RANDOMIZE USR (PEEK 23627+256*PEEK 23628+6)
</div>
<div class="paragraph">
On a freshly reset Spectrum, VARS defaults to 5DA2 add 6 gives 5DA8.
</div>
</div>
</td>
</tr>
<tr>
<td class="address-1"><span id="23976"></span>5DA8</td>
<td class="instruction">DI</td>
<td class="comment-1" rowspan="1">Disable interrupts - essential for tape loading.</td>
</tr>
<tr>
<td class="address-1"><span id="23977"></span>5DA9</td>
<td class="instruction">LD SP,$0000</td>
<td class="comment-1" rowspan="1">Put the stack somewhere safe.</td>
</tr>
<tr>
<td class="address-1"><span id="23980"></span>5DAC</td>
<td class="instruction">LD HL,($5C4B)</td>
<td class="comment-1" rowspan="1">Put the system variable VARS in <span class="register">HL</span>.</td>
</tr>
<tr>
<td class="address-1"><span id="23983"></span>5DAF</td>
<td class="instruction">LD DE,$001C</td>
<td class="comment-1" rowspan="2">Add 1C to this, giving 5DBE.</td>
</tr>
<tr>
<td class="address-1"><span id="23986"></span>5DB2</td>
<td class="instruction">ADD HL,DE</td>
</tr>
<tr>
<td class="address-1"><span id="23987"></span>5DB3</td>
<td class="instruction">LD DE,$FE46</td>
<td class="comment-1" rowspan="3">Copy C6 bytes to <a href="65094.html">FE46</a>.</td>
</tr>
<tr>
<td class="address-1"><span id="23990"></span>5DB6</td>
<td class="instruction">LD BC,$00C6</td>
</tr>
<tr>
<td class="address-1"><span id="23993"></span>5DB9</td>
<td class="instruction">LDIR</td>
</tr>
<tr>
<td class="address-1"><span id="24027"></span>5DDB</td>
<td class="instruction">JP <a href="65094.html">$FE46</a></td>
<td class="comment-1" rowspan="1">Jump to the main loader.</td>
</tr>
</table>
<table class="asm-navigation">
<tr>
<td class="prev">
Prev: <a href="23424.html">5B80</a>
</td>
<td class="up">Up: <a href="Loading system.html#23976">Map</a></td>
<td class="next">
Next: <a href="65094.html">FE46</a>
</td>
</tr>
</table>
<footer>
<div class="release"></div>
<div class="copyright">(c) 1985 Mikro-Gen (code and graphics), 2013-2023 Ritchie Swann / Paul Maddern (this disassembly)</div>
<div class="created">Created using <a href="https://skoolkit.ca">SkoolKit</a> 8.10.</div>
</footer>
</body>
</html>